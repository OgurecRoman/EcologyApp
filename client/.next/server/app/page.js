(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},5511:e=>{"use strict";e.exports=require("crypto")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},3496:e=>{"use strict";e.exports=require("http2")},5591:e=>{"use strict";e.exports=require("https")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},4647:()=>{},7046:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>p,routeModule:()=>d,tree:()=>c});var s=n(260),o=n(8203),r=n(5155),i=n.n(r),a=n(7292),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);n.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,7294)),"D:\\programming\\PROJECTS\\EcologyApp\\client\\app\\page.jsx"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,9611)),"D:\\programming\\PROJECTS\\EcologyApp\\client\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,1485,23)),"next/dist/client/components/unauthorized-error"]}],p=["D:\\programming\\PROJECTS\\EcologyApp\\client\\app\\page.jsx"],u={require:n,loadChunk:()=>Promise.resolve()},d=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9025:(e,t,n)=>{Promise.resolve().then(n.bind(n,7294))},9297:(e,t,n)=>{Promise.resolve().then(n.bind(n,2492))},6957:(e,t,n)=>{Promise.resolve().then(n.bind(n,4869)),Promise.resolve().then(n.t.bind(n,6638,23)),Promise.resolve().then(n.bind(n,1112))},8397:(e,t,n)=>{Promise.resolve().then(n.bind(n,9205)),Promise.resolve().then(n.t.bind(n,7882,23)),Promise.resolve().then(n.bind(n,4676))},7800:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,3219,23)),Promise.resolve().then(n.t.bind(n,4863,23)),Promise.resolve().then(n.t.bind(n,5155,23)),Promise.resolve().then(n.t.bind(n,802,23)),Promise.resolve().then(n.t.bind(n,9350,23)),Promise.resolve().then(n.t.bind(n,8530,23)),Promise.resolve().then(n.t.bind(n,8921,23))},7528:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,6959,23)),Promise.resolve().then(n.t.bind(n,3875,23)),Promise.resolve().then(n.t.bind(n,1284,23)),Promise.resolve().then(n.t.bind(n,7174,23)),Promise.resolve().then(n.t.bind(n,4178,23)),Promise.resolve().then(n.t.bind(n,7190,23)),Promise.resolve().then(n.t.bind(n,1365,23))},2492:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Z});var s=n(5512),o=n(4873),r=n(8009),i=n.n(r);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}let l=(e,t)=>{let n={};for(let s in e)-1===t.indexOf(s)&&(n[s]=e[s]);return n},c=i().createContext(null),p=i().createContext(null),u=e=>t=>i().createElement(p.Consumer,null,n=>i().createElement(e,a({parent:n},t))),d=(e=[])=>{let[t,n]=(0,r.useState)(!1),s=(0,r.useRef)(e),o=(()=>{let e=(0,r.useContext)(c);if(null===e)throw Error("Couldn't find Yandex.Maps API in the context. Make sure that hook useYMaps is inside <YMaps /> provider");return e})(),i=o.getApi();return(0,r.useEffect)(()=>{o.load().then(()=>Promise.all(s.current.map(o.loadModule))).then(()=>n(!0))},[]),t&&i?i:null},m=()=>{},h=["onLoad","onError","modules","apiLoader"];function f(e,t=!1,n=[]){return s=>{let{width:o,height:c,modules:p=[],onLoad:u=m}=s,f=d(n.concat(p)),v=!t||!!f,y=l(s,h);return(0,r.useEffect)(()=>f?u(f):void 0,[f]),v?i().createElement(e,a({ymaps:f},y)):i().createElement("div",{style:{width:o,height:c}})}}let v="undefined"!=typeof window,y={lang:"ru_RU",load:"",ns:"",mode:"release"},b=e=>{let{version:t="2.1",enterprise:n=!1,query:s={lang:"ru_RU",load:"",ns:""},preload:o=!1,children:a}=e,l=(0,r.useRef)((e=>{let t;let{query:n=y}=e,s=Date.now().toString(32),o=n.ns||"",r="__yandex-maps-api-onload__$$"+s,i="__yandex-maps-api-onerror__$$"+s,a=v?window:{},l={},c=()=>o?a[o]:t,p=()=>{delete a[r],delete a[i]};return{load:()=>{if(c())return Promise.resolve(t);if(l[o])return l[o];let s={onload:r,onerror:i,...y,...n},u=Object.keys(s).map(e=>`${e}=${s[e]}`).join("&"),d=[`https://${e.enterprise?"enterprise.":""}api-maps.yandex.ru`,e.version,"?"+u].join("/");return l[o]=new Promise((e,n)=>{a[r]=n=>{p(),n.ready(()=>{t=n,e(n)})},a[i]=e=>{p(),n(e)},new Promise((e,t)=>{let n=document.createElement("script");n.type="text/javascript",n.onload=e,n.onerror=t,n.src=d,n.async=!0,document.head.appendChild(n)}).catch(a[i])}),l[o]},getApi:c,loadModule:e=>new Promise((n,s)=>{t.modules.require(e).done(s=>{s.forEach(n=>{((e,t,n,s=!1)=>{let o="string"==typeof t?t.split("."):t.slice(),r,i=e;for(;o.length>1;)i[r=o.shift()]||(i[r]={}),i=i[r];let a=o[0];i[a]=!0===s&&i[a]||n})(t,e,n,!0)}),n(t)},s)})}})({version:t,enterprise:n,query:s,preload:o}));return(0,r.useEffect)(()=>{o&&l.current.load()},[l.current]),i().createElement(c.Provider,{value:l.current},a)},g=/^on(?=[A-Z])/;function j(e){return Object.keys(e).reduce((t,n)=>{if(g.test(n)){let s=n.replace(g,"").toLowerCase();t._events[s]=e[n]}else t[n]=e[n];return t},{_events:{}})}function O(e,t,n){"function"==typeof n&&e.events.add(t,n)}function x(e,t,n){"function"==typeof n&&e.events.remove(t,n)}function E(e,t,n){Object.keys(Object.assign({},t,n)).forEach(s=>{t[s]!==n[s]&&(x(e,s,t[s]),O(e,s,n[s]))})}let C=e=>"default"+e.charAt(0).toUpperCase()+e.slice(1);function P(e,t){return void 0!==e[t]||void 0===e[C(t)]}function _(e,t,n){return(P(e,t)?e[t]:e[C(t)])||n}function R(e,t,n=null){e!==t&&(e&&("current"in e?e.current=null:"function"==typeof e&&e(null)),t&&("current"in t?t.current=n:"function"==typeof t&&t(n)))}function S(e){let{width:t,height:n,style:s,className:o}=e;return void 0!==s||void 0!==o?Object.assign({},s&&{style:s},o&&{className:o}):{style:{width:t,height:n}}}class T extends i().Component{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,t){let{onError:n=()=>{}}=this.props;n(e),this.setState({error:e,errorInfo:t})}render(){return this.state.error?null:this.props.children}}let L=e=>({onError:t,...n})=>i().createElement(T,{onError:t},i().createElement(e,n));class w extends i().Component{constructor(){super(),this.instance=null,this.state={instance:null},this._parentElement=null,this._getRef=e=>{this._parentElement=e}}componentDidMount(){this.instance=w.mountObject(this._parentElement,this.props.ymaps.Map,this.props),this.setState({instance:this.instance})}componentDidUpdate(e){null!==this.instance&&w.updateObject(this.instance,e,this.props)}componentWillUnmount(){w.unmountObject(this.instance,this.props)}render(){let e=S(this.props),t=l(j(this.props),["_events","state","defaultState","options","defaultOptions","instanceRef","ymaps","children","width","height","style","className"]);return i().createElement(p.Provider,{value:this.state.instance},i().createElement("div",a({ref:this._getRef},e,t),this.props.children))}static mountObject(e,t,n){let{instanceRef:s,_events:o}=j(n),r=new t(e,_(n,"state"),_(n,"options"));return Object.keys(o).forEach(e=>O(r,e,o[e])),R(null,s,r),r}static updateObject(e,t,n){let{_events:s,instanceRef:o}=j(n),{_events:r,instanceRef:i}=j(t);if(P(n,"state")){let s=_(t,"state",{}),o=_(n,"state",{});s.type!==o.type&&e.setType(o.type),s.behaviors!==o.behaviors&&(s.behaviors&&e.behaviors.disable(s.behaviors),o.behaviors&&e.behaviors.enable(o.behaviors)),o.zoom&&s.zoom!==o.zoom&&e.setZoom(o.zoom),o.center&&s.center!==o.center&&e.setCenter(o.center),o.bounds&&s.bounds!==o.bounds&&e.setBounds(o.bounds)}if(P(n,"options")){let s=_(t,"options"),o=_(n,"options",{});s!==o&&e.options.set(o)}_(t,"width")===_(n,"width")&&_(t,"height")===_(n,"height")||e.container.fitToViewport(),E(e,r,s),R(i,o,e)}static unmountObject(e,t){let{instanceRef:n,_events:s}=j(t);null!==e&&(Object.keys(s).forEach(t=>x(e,t,s[t])),e.destroy(),R(n))}}let N=L(f(w,!0,["Map"]));N.defaultProps={width:320,height:240};class k extends i().Component{constructor(){super(),this.state={instance:null},this._parentElement=null,this._getRef=e=>{this._parentElement=e}}componentDidMount(){this._mounted=!0,this.props.ymaps.panorama.isSupported()&&k.mountObject(this._parentElement,this.props.ymaps.panorama,this.props).then(e=>this._mounted&&this.setState({instance:e}))}componentDidUpdate(e){null!==this.state.instance&&k.updateObject(this.state.instance,e,this.props)}componentWillUnmount(){this._mounted=!1,k.unmountObject(this.state.instance,this.props)}render(){let e=S(this.props);return i().createElement("div",a({ref:this._getRef},e))}static mountObject(e,t,n){let{instanceRef:s,_events:o}=j(n),r=_(n,"point"),i=_(n,"locateOptions"),a=_(n,"options");return new Promise((n,l)=>{t.locate(r,i).done(r=>{if(r.length>0){let i=new t.Player(e,r[0],a);R(null,s,i),Object.keys(o).forEach(e=>O(i,e,o[e])),n(i)}},l)})}static updateObject(e,t,n){let{_events:s,instanceRef:o}=j(n),{_events:r,instanceRef:i}=j(t);if(P(n,"options")){let s=_(t,"options"),o=_(n,"options");s!==o&&e.options.set(o)}if(P(n,"point")){let s=_(n,"point"),o=_(t,"point"),r=_(n,"locateOptions");s!==o&&e.moveTo(s,r)}E(e,r,s),R(i,o,e)}static unmountObject(e,t){let{instanceRef:n,_events:s}=j(t);null!==e&&(Object.keys(s).forEach(t=>x(e,t,s[t])),R(n))}}L(f(k,!0,["panorama.isSupported","panorama.locate","panorama.createPlayer","panorama.Player"])).defaultProps={width:320,height:240};class A extends i().Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){let e=A.mountControl(this.props.ymaps.control[this.props.name],this.props);this.instance=e,this.setState({instance:e})}componentDidUpdate(e){null!==this.instance&&A.updateControl(this.instance,e,this.props)}componentWillUnmount(){A.unmountControl(this.instance,this.props)}render(){return i().createElement(p.Provider,{value:this.state.instance},this.props.children)}static mountControl(e,t){let{instanceRef:n,parent:s,lazy:o,_events:r}=j(t),i=new e({data:_(t,"data"),options:_(t,"options"),state:_(t,"state"),mapTypes:_(t,"mapTypes"),lazy:o});if(Object.keys(r).forEach(e=>O(i,e,r[e])),s&&s.controls&&"function"==typeof s.controls.add)s.controls.add(i);else{if(!s||!s.add||"function"!=typeof s.add)throw Error(`No parent found to mount ${t.name}`);s.add(i)}return R(null,n,i),i}static updateControl(e,t,n){let{_events:s,instanceRef:o}=j(n),{_events:r,instanceRef:i}=j(t);if(P(n,"options")){let s=_(t,"options"),o=_(n,"options");s!==o&&e.options.set(o)}if(P(n,"data")){let s=_(t,"data"),o=_(n,"data");s!==o&&e.data.set(o)}if(P(n,"state")){let s=_(t,"state"),o=_(n,"state");s!==o&&e.state.set(o)}if(P(n,"mapTypes")){let s=_(t,"mapTypes"),o=_(n,"mapTypes");s!==o&&(e.removeAllMapTypes(),o.forEach(t=>e.addMapType(t)))}E(e,r,s),R(i,o,e)}static unmountControl(e,t){let{instanceRef:n,parent:s,_events:o}=j(t);null!==e&&(Object.keys(o).forEach(t=>x(e,t,o[t])),s.controls&&"function"==typeof s.controls.remove?s.controls.remove(e):s.remove&&"function"==typeof s.remove&&s.remove(e),R(n))}}L(u(f(e=>i().createElement(A,a({},e,{name:"Button"})),!0,["control.Button"]))),L(u(f(e=>i().createElement(A,a({},e,{name:"FullscreenControl"})),!0,["control.FullscreenControl"]))),L(u(f(e=>i().createElement(A,a({},e,{name:"GeolocationControl"})),!0,["control.GeolocationControl"]))),L(u(f(e=>i().createElement(A,a({},e,{name:"ListBox"})),!0,["control.ListBox"]))),L(u(f(e=>i().createElement(A,a({},e,{name:"ListBoxItem"})),!0,["control.ListBoxItem"]))),L(u(f(e=>i().createElement(A,a({},e,{name:"RouteButton"})),!0,["control.RouteButton"]))),L(u(f(e=>i().createElement(A,a({},e,{name:"RouteEditor"})),!0,["control.RouteEditor"]))),L(u(f(e=>i().createElement(A,a({},e,{name:"RoutePanel"})),!0,["control.RoutePanel"]))),L(u(f(e=>i().createElement(A,a({},e,{name:"RulerControl"})),!0,["control.RulerControl"]))),L(u(f(e=>i().createElement(A,a({},e,{name:"SearchControl"})),!0,["control.SearchControl"]))),L(u(f(e=>i().createElement(A,a({},e,{name:"TrafficControl"})),!0,["control.TrafficControl"]))),L(u(f(e=>i().createElement(A,a({},e,{name:"TypeSelector"})),!0,["control.TypeSelector"]))),L(u(f(e=>i().createElement(A,a({},e,{name:"ZoomControl"})),!0,["control.ZoomControl"])));class I extends i().Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){let e=I.mountObject(this.props.ymaps.Clusterer,this.props);this.instance=e,this.setState({instance:e})}componentDidUpdate(e){null!==this.state.instance&&I.updateObject(this.instance,e,this.props)}componentWillUnmount(){I.unmountObject(this.instance,this.props)}render(){return i().createElement(p.Provider,{value:this.state.instance},this.props.children)}static mountObject(e,t){let{instanceRef:n,parent:s,_events:o}=j(t),r=new e(_(t,"options"));if(Object.keys(o).forEach(e=>O(r,e,o[e])),s.geoObjects&&"function"==typeof s.geoObjects.add)s.geoObjects.add(r);else{if(!s.add||"function"!=typeof s.add)throw Error("No parent found to mount Clusterer");s.add(r)}return R(null,n,r),r}static updateObject(e,t,n){let{_events:s,instanceRef:o}=j(n),{_events:r,instanceRef:i}=j(t);if(P(n,"options")){let s=_(t,"options"),o=_(n,"options");s!==o&&e.options.set(o)}E(e,r,s),R(i,o,e)}static unmountObject(e,t){let{instanceRef:n,parent:s,_events:o}=j(t);null!==e&&(Object.keys(o).forEach(t=>x(e,t,o[t])),s.geoObjects&&"function"==typeof s.geoObjects.remove?s.geoObjects.remove(e):s.remove&&"function"==typeof s.remove&&s.remove(e),R(n))}}L(u(f(I,!0,["Clusterer"])));class q extends i().Component{constructor(){super(),this.state={instance:null}}componentDidMount(){let e=q.mountObject(this.props.ymaps.ObjectManager,this.props);this.instance=e,this.setState({instance:e})}componentDidUpdate(e){null!==this.instance&&q.updateObject(this.instance,e,this.props)}componentWillUnmount(){q.unmountObject(this.instance,this.props)}render(){return null}static mountObject(e,t){let{instanceRef:n,parent:s,_events:o}=j(t),r=_(t,"options",{}),i=_(t,"features",{}),a=_(t,"filter",null),l=_(t,"objects",{}),c=_(t,"clusters",{}),p=new e(r);if(p.add(i||[]),p.setFilter(a),p.objects.options.set(l),p.clusters.options.set(c),Object.keys(o).forEach(e=>O(p,e,o[e])),s.geoObjects&&"function"==typeof s.geoObjects.add)s.geoObjects.add(p);else{if(!s.add||"function"!=typeof s.add)throw Error("No parent found to mount ObjectManager");s.add(p)}return R(null,n,p),p}static updateObject(e,t,n){let{_events:s,instanceRef:o}=j(n),{_events:r,instanceRef:i}=j(t);if(P(n,"options")){let s=_(t,"options"),o=_(n,"options");s!==o&&e.options.set(o)}if(P(n,"objects")){let s=_(t,"objects"),o=_(n,"objects");s!==o&&e.objects.options.set(o)}if(P(n,"clusters")){let s=_(t,"clusters"),o=_(n,"clusters");s!==o&&e.clusters.options.set(o)}if(P(n,"filter")){let s=_(t,"filter"),o=_(n,"filter");s!==o&&e.setFilter(o)}if(P(n,"features")){let s=_(t,"features"),o=_(n,"features");s!==o&&(e.remove(s),e.add(o))}E(e,r,s),R(i,o,e)}static unmountObject(e,t){let{instanceRef:n,parent:s,_events:o}=j(t);null!==e&&(Object.keys(o).forEach(t=>x(e,t,o[t])),s.geoObjects&&"function"==typeof s.geoObjects.remove?s.geoObjects.remove(e):s.remove&&"function"==typeof s.remove&&s.remove(e),R(n))}}L(u(f(q,!0,["ObjectManager"])));class M extends i().Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){let{name:e,ymaps:t,dangerZone:n}=this.props,s=M.mountObject(n&&"function"==typeof n.modifyConstructor?n.modifyConstructor(t[e]):t[e],this.props);this.instance=s,this.setState({instance:s})}componentDidUpdate(e){null!==this.instance&&M.updateObject(this.instance,e,this.props)}componentWillUnmount(){M.unmountObject(this.instance,this.props)}render(){return null}static mountObject(e,t){let{instanceRef:n,parent:s,_events:o}=j(t),r=new e(_(t,"geometry"),_(t,"properties"),_(t,"options"));if(Object.keys(o).forEach(e=>O(r,e,o[e])),s&&s.geoObjects&&"function"==typeof s.geoObjects.add)s.geoObjects.add(r);else{if(!s||!s.add||"function"!=typeof s.add)throw Error(`No parent found to mount ${t.name}`);s.add(r)}return R(null,n,r),r}static updateObject(e,t,n){let{_events:s,instanceRef:o}=j(n),{_events:r,instanceRef:i}=j(t);if(P(n,"geometry")){let s=_(t,"geometry",{}),o=_(n,"geometry",{});Array.isArray(o)&&o!==s?Array.isArray(o[0])&&"number"==typeof o[1]?(e.geometry.setCoordinates(o[0]),e.geometry.setRadius(o[1])):e.geometry.setCoordinates(o):"object"==typeof o&&(o.coordinates!==s.coordinates&&e.geometry.setCoordinates(o.coordinates),o.radius!==s.radius&&e.geometry.setRadius(o.radius))}if(P(n,"properties")){let s=_(t,"properties"),o=_(n,"properties");s!==o&&e.properties.set(o)}if(P(n,"options")){let s=_(t,"options"),o=_(n,"options");s!==o&&e.options.set(o)}E(e,r,s),R(i,o,e)}static unmountObject(e,t){let{instanceRef:n,parent:s,_events:o}=j(t);null!==e&&(Object.keys(o).forEach(t=>x(e,t,o[t])),s.geoObjects&&"function"==typeof s.geoObjects.remove?s.geoObjects.remove(e):s.remove&&"function"==typeof s.remove&&s.remove(e),R(n))}}let D={modifyConstructor(e){function t(t,n,s){e.call(this,{geometry:t,properties:n},s)}return t.prototype=e.prototype,t}};L(u(f(e=>i().createElement(M,a({},e,{name:"GeoObject",dangerZone:D})),!0,["GeoObject"]))),L(u(f(e=>i().createElement(M,a({},e,{name:"Circle"})),!0,["Circle"])));var U=L(u(f(e=>i().createElement(M,a({},e,{name:"Placemark"})),!0,["Placemark"])));L(u(f(e=>i().createElement(M,a({},e,{name:"Polygon"})),!0,["Polygon"]))),L(u(f(e=>i().createElement(M,a({},e,{name:"Polyline"})),!0,["Polyline"]))),L(u(f(e=>i().createElement(M,a({},e,{name:"Rectangle"})),!0,["Rectangle"])));var $=n(1367),B=n(6026);function z({onFiltersChange:e}){let[t,n]=(0,r.useState)(!1),[o,i]=(0,r.useState)([]),a=t=>{let n=o.includes(t)?o.filter(e=>e!==t):[...o,t];i(n),e(n)};return(0,s.jsxs)("div",{className:"event-filters",children:[(0,s.jsxs)($.$n,{onClick:()=>n(!t),className:"filters-toggle",children:[(0,s.jsx)("span",{children:"Фильтры"}),o.length>0&&(0,s.jsx)("span",{className:"filters-badge",children:o.length}),(0,s.jsx)("span",{className:`arrow ${t?"open":""}`,children:"▼"})]}),t&&(0,s.jsxs)("div",{className:"filters-dropdown",children:[(0,s.jsxs)("div",{className:"filters-header",children:[(0,s.jsx)("h3",{children:"Типы событий"}),o.length>0&&(0,s.jsx)($.$n,{onClick:()=>{i([]),e([])},className:"clear-btn",children:"Очистить"})]}),(0,s.jsx)("div",{className:"filters-list",children:Object.values(B.B).map(e=>(0,s.jsxs)("label",{className:"filter-item",children:[(0,s.jsx)("input",{type:"checkbox",checked:o.includes(e),onChange:()=>a(e)}),(0,s.jsx)("span",{children:B.S[e]})]},e))})]})]})}function G({event:e,coordinates:t,onClick:n,isSelected:o}){let r=`
    <div style="padding: 12px; max-width: 300px;">
      <h3 style="margin: 0 0 8px 0; font-size: 16px; font-weight: 600;">${e.name}</h3>
      <p style="margin: 4px 0; font-size: 14px; color: #666;"><strong>Тип:</strong> ${B.S[e.type]||e.type}</p>
      <p style="margin: 4px 0; font-size: 14px; color: #666;"><strong>Дата:</strong> ${new Date(e.date).toLocaleDateString("ru-RU")}</p>
      <p style="margin: 4px 0; font-size: 14px; color: #666;"><strong>Адрес:</strong> ${e.address}</p>
      <p style="margin: 4px 0; font-size: 14px; color: #666;"><strong>Автор:</strong> ${e.author}</p>
      ${e.description?`<p style="margin: 8px 0 0 0; font-size: 14px;">${e.description}</p>`:""}
    </div>
  `;return(0,s.jsx)(U,{geometry:t,properties:{balloonContent:r,hintContent:e.name},options:{preset:o?"islands#redIcon":"islands#blueIcon",balloonMaxWidth:350},onClick:n})}n(2795);var W=n(251),J=n(7072);function Y(){let[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)({center:[55.751574,37.573856],zoom:10}),[i,a]=(0,r.useState)(null),[l,c]=(0,r.useState)({}),{events:p,loading:u}=(0,W.L)(e),{selectedEvent:d,setSelectedEvent:m}=(0,J.v)();return(0,s.jsxs)("div",{className:"map-view",children:[(0,s.jsx)("div",{className:"map-filters-container",children:(0,s.jsx)(z,{onFiltersChange:t})}),u&&(0,s.jsxs)("div",{className:"map-loading",children:[(0,s.jsx)("div",{className:"spinner"}),(0,s.jsx)("p",{children:"Загрузка событий..."})]}),(0,s.jsx)(b,{query:{apikey:"aeef4bf9-21d0-4994-bc36-c21a1a09e8e7"},children:(0,s.jsx)(N,{state:n,className:"yandex-map",modules:["geoObject.addon.balloon","geoObject.addon.hint"],children:p.map(e=>{let t=l[e.id];return t?(0,s.jsx)(G,{event:e,coordinates:t,isSelected:i===e.id,onClick:()=>a(e.id)},e.id):null})})})]})}function Z(){return(0,s.jsx)(o.A,{children:(0,s.jsx)(Y,{})})}n(906)},3312:(e,t,n)=>{"use strict";n.d(t,{getMyEvents:()=>r,kQ:()=>o,lh:()=>i,ns:()=>a});let s=n(4361).A.create({baseURL:"https://ecology-app-test.vercel.app",headers:{"Content-Type":"application/json"}}),o=async(e=[])=>{let t=new URLSearchParams;e.forEach(e=>t.append("type",e));let n=`/events${t.toString()?"?"+t.toString():""}`;return(await s.get(n)).data},r=async e=>(await s.get(`/events/my?userId=${e}`)).data,i=async e=>(await s.post("/events",e)).data,a=async(e,t)=>(await s.post("/join",{userId:e,eventId:t})).data},4676:(e,t,n)=>{"use strict";n.d(t,{default:()=>r});var s=n(5512),o=n(7072);function r({children:e}){return(0,s.jsx)(o.f,{children:e})}},4873:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var s=n(5512),o=n(9334),r=n(1367);function i(){let e=(0,o.usePathname)(),t=(0,o.useRouter)();return(0,s.jsx)("nav",{className:"bottom-navigation",children:[{path:"/",label:"Карты"},{path:"/events",label:"События"},{path:"/profile",label:"Профиль"}].map(n=>(0,s.jsx)(r.T0,{onClick:()=>t.push(n.path),className:e===n.path?"active":"",children:n.label},n.path))})}function a({children:e}){return(0,s.jsxs)("div",{className:"app-layout",children:[(0,s.jsx)("main",{className:"app-content",children:e}),(0,s.jsx)(i,{})]})}n(2595),n(1953)},7072:(e,t,n)=>{"use strict";n.d(t,{f:()=>i,v:()=>a});var s=n(5512),o=n(8009);let r=(0,o.createContext)(void 0);function i({children:e}){let[t,n]=(0,o.useState)(null);return(0,s.jsx)(r.Provider,{value:{selectedEvent:t,setSelectedEvent:n},children:e})}function a(){let e=(0,o.useContext)(r);if(void 0===e)throw Error("useSelectedEvent must be used within SelectedEventProvider");return e}},251:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,n:()=>i});var s=n(8009),o=n(3312);function r(e=[]){let[t,n]=(0,s.useState)([]),[i,a]=(0,s.useState)(!0),[l,c]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{try{a(!0);let t=await (0,o.kQ)(e);n(t),c(null)}catch(e){c(e.message),n([])}finally{a(!1)}})()},[e.join(",")]),{events:t,loading:i,error:l,refetch:()=>(0,o.kQ)(e).then(n)}}function i(e){let[t,n]=(0,s.useState)([]),[o,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(null);return{events:t,loading:o,error:i}}},6026:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,S:()=>o});let s={SUBBOTNIK:"SUBBOTNIK",PAPER_COLLECTION:"PAPER COLLECTION",BATTERY_COLLECTION:"BATTERY COLLECTION",PLASTIC_COLLECTION:"PLASTIC COLLECTION",GLASS_COLLECTION:"GLASS COLLECTION",ELECTRONICS_COLLECTION:"ELECTRONICS COLLECTION",OTHER:"OTHER"},o={[s.SUBBOTNIK]:"Субботник",[s.PAPER_COLLECTION]:"Сбор бумаги",[s.BATTERY_COLLECTION]:"Сбор батареек",[s.PLASTIC_COLLECTION]:"Сбор пластика",[s.GLASS_COLLECTION]:"Сбор стекла",[s.ELECTRONICS_COLLECTION]:"Сбор электроники",[s.OTHER]:"Другое"}},9611:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,metadata:()=>a});var s=n(2740),o=n(9847),r=n(4869);n(2704);var i=n(1112);let a={title:"Ecology Events - Карта экологических событий",description:"Платформа для поиска и участия в экологических событиях: субботниках, сборе макулатуры, батареек и других мероприятиях",generator:"v0.app",icons:{icon:[{url:"/icon-light-32x32.png",media:"(prefers-color-scheme: light)"},{url:"/icon-dark-32x32.png",media:"(prefers-color-scheme: dark)"},{url:"/icon.svg",type:"image/svg+xml"}],apple:"/apple-icon.png"}};function l({children:e}){return(0,s.jsx)("html",{lang:"ru",suppressHydrationWarning:!0,children:(0,s.jsxs)("body",{className:"font-sans antialiased",children:[(0,s.jsx)(i.default,{children:e}),(0,s.jsx)(o.default,{src:"https://st.max.ru/js/max-web-app.js",strategy:"beforeInteractive"}),(0,s.jsx)(r.Analytics,{})]})})}},7294:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});let s=(0,n(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\programming\\\\PROJECTS\\\\EcologyApp\\\\client\\\\app\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\programming\\PROJECTS\\EcologyApp\\client\\app\\page.jsx","default")},1112:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});let s=(0,n(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\programming\\\\PROJECTS\\\\EcologyApp\\\\client\\\\src\\\\components\\\\ClientLayout\\\\ClientLayout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\programming\\PROJECTS\\EcologyApp\\client\\src\\components\\ClientLayout\\ClientLayout.tsx","default")},2704:()=>{},2595:()=>{},2795:()=>{},1953:()=>{},906:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),s=t.X(0,[358,367,361],()=>n(7046));module.exports=s})();